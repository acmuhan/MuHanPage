---
export interface Props {
    title: string;
    description?: string;
}

const { title, description = "MuHan's personal website" } = Astro.props;
---

<!doctype html>
<html lang="zh-CN">
    <head>
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <title>{title}</title>
        <link rel="icon" href="/favicon.ico" />
        <meta name="description" content={description} />
        <meta name="keywords" content="MuHan,Personal_Website" />
        <meta
            name="viewport"
            content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
        />
        <meta name="format-detection" content="telephone=no" />
        <meta name="theme-color" content="#6c63ff" />

        <!-- 根据 Cookie 在首屏同步应用深色主题，避免闪烁 -->
        <script is:inline>
            (function () {
                var theme = document.cookie.match(/themeState=([^;]+)/);
                if (theme && theme[1] === "Dark") {
                    document.documentElement.setAttribute("data-theme", "dark");
                }
            })();

            // 页面加载完成后隐藏加载指示器
            window.addEventListener("load", function () {
                document.body.style.opacity = "0";
                setTimeout(function () {
                    document.body.style.transition = "opacity 0.5s ease-in-out";
                    document.body.style.opacity = "1";
                }, 100);
            });
        </script>
    </head>

    <body>
        <slot />

        <!-- 图片弹窗（赞助/预览等） -->
        <div class="pop-up">
            <div class="pop-up-main">
                <img class="pop-up-img" src="" alt="" srcset="" />
            </div>
            <div onclick="PopUp()" class="pop-up-close">
                <svg
                    t="1700047644371"
                    class="icon"
                    viewBox="0 0 1024 1024"
                    version="1.1"
                    xmlns="http://www.w3.org/2000/svg"
                    p-id="950"
                    width="19px"
                    height="19px"
                >
                    <path
                        d="M610.616405 512.423878l391.647127 391.939565a68.722849 68.722849 0 0 1 0 98.332161 72.012772 72.012772 0 0 1-100.306115 0l-390.404267-391.354689-392.012675 391.28158a69.74638 69.74638 0 0 1-98.551489-98.551489l391.793346-391.720237L20.988986 119.533891A69.74638 69.74638 0 0 1 119.540475 20.982402l392.158893 392.451331L901.957417 23.248793a72.012772 72.012772 0 0 1 100.306115 0 68.722849 68.722849 0 0 1 0 98.332161L610.616405 512.423878z"
                        p-id="951"
                        fill="#000000"></path>
                </svg>
            </div>
        </div>

        <script is:inline src="/main.js"></script>
    </body>
</html>

<style is:global>
    /* 导入原有的CSS样式 */
    @import "../styles/global.css";
</style>
